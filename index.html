<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>MU/TH/UR TERMINAL INDEX</title>

<style>
:root{
  --bg:#000;
  --fg:#7af042;
  --fg2:rgba(122,240,66,.75);
  --line:rgba(122,240,66,.35);
  --pad:14px;
  --radius:14px;
  --fontBase:clamp(15px,3vw,22px);
  --fontSmall:clamp(12px,2.5vw,16px);
}

html,body{
  height:100%;
  margin:0;
  background:var(--bg);
  color:var(--fg);
  font-family:"Share Tech Mono",ui-monospace,monospace;
}

#app{
  height:100%;
  display:grid;
  grid-template-rows:auto 1fr;
  padding:var(--pad);
}

#topbar{
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:12px;
  margin-bottom:12px;
}

#title{
  letter-spacing:.18em;
  text-transform:uppercase;
}

#subtitle{
  margin-top:6px;
  color:var(--fg2);
  font-size:var(--fontSmall);
}

#grid{
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:12px;
  overflow:auto;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:10px;
}

.group{
  border:1px solid rgba(122,240,66,.2);
  border-radius:12px;
  padding:10px;
}

.group h3{
  margin:0 0 8px 0;
  font-size:var(--fontSmall);
  letter-spacing:.14em;
  text-transform:uppercase;
}

a.file{
  display:block;
  border:1px solid rgba(122,240,66,.25);
  border-radius:10px;
  padding:10px;
  text-decoration:none;
  color:var(--fg);
  margin-bottom:6px;
  background:rgba(0,0,0,.45);
}

a.file:hover{
  border-color:rgba(122,240,66,.75);
}

.gm-only{ display:none; }

#gmToggle{
  margin-top:10px;
  border:1px solid var(--line);
  border-radius:10px;
  padding:8px;
  text-align:center;
  cursor:pointer;
  font-size:var(--fontSmall);
}

/* Interstitial */
#overlay{
  position:fixed;
  inset:0;
  background:#000;
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}

#overlayBox{
  border:1px solid var(--line);
  border-radius:14px;
  padding:24px;
  text-align:center;
}

.blink{
  animation:blink 1s steps(1,end) infinite;
}

@keyframes blink{
  0%,49%{opacity:1}
  50%,100%{opacity:.2}
}
</style>
</head>

<body>
<div id="app">

  <div id="topbar">
    <div id="title">MU/TH/UR TERMINAL INDEX</div>
    <div id="subtitle">AUTHORIZED CREW ACCESS ONLY</div>
  </div>

  <div id="grid" aria-label="terminal list"></div>

  <div id="gmToggle">AUTHORIZE GM ACCESS</div>
</div>

<div id="overlay">
  <div id="overlayBox">
    <div id="overlayText" class="blink">CLEARANCE REQUIRED</div>
  </div>
</div>

<script>
/* FILE DEFINITIONS */
const FILES = [
  {name:"Cham", act:1, file:"Cham%20Act%201.html"},
  {name:"Cham", act:2, file:"Cham%20Act%202.html"},
  {name:"Cham", act:3, file:"Cham%20Act%203.html"},

  {name:"Davis", act:1, file:"Davis%20Act%201.html"},
  {name:"Davis", act:2, file:"Davis%20Act%202.html"},
  {name:"Davis", act:3, file:"Davis%20Act%203.html"},

  {name:"Lucas", act:1, file:"Lucas%20Act%201.html"},
  {name:"Lucas", act:2, file:"Lucas%20Act%202.html"},
  {name:"Lucas", act:3, file:"Lucas%20Act%203.html"},

  {name:"Miller", act:1, file:"Miller%20Act%201.html"},
  {name:"Miller", act:2, file:"Miller%20Act%202.html"},
  {name:"Miller", act:3, file:"Miller%20Act%203.html"},

  {name:"Rye", act:1, file:"Rye%20Act%201.html"},
  {name:"Rye", act:2, file:"Rye%20Act%202.html"},
  {name:"Rye", act:3, file:"Rye%20Act%203.html"},

  {name:"Wilson", act:1, file:"Wilson%20Act%201.html"},
  {name:"Wilson", act:2, file:"Wilson%20Act%202.html"},
  {name:"Wilson", act:3, file:"Wilson%20Act%203.html"},

  {name:"GM", act:0, file:"Infected%20Directive.html", gm:true},
  {name:"GM", act:0, file:"Cronus%20MUTHUR%20Interface.html", gm:true},
  {name:"GM", act:0, file:"Miller%20Montero%20MUTHUR%20Interface.html", gm:true},
  {name:"GM", act:0, file:"Wilson%20Montero%20MUTHUR%20Interface.html", gm:true}
];

/* BUILD UI */
const grid = document.getElementById("grid");
const overlay = document.getElementById("overlay");
const overlayText = document.getElementById("overlayText");

const grouped = {};
FILES.forEach(f=>{
  if(!grouped[f.name]) grouped[f.name]=[];
  grouped[f.name].push(f);
});

Object.keys(grouped).sort().forEach(name=>{
  const g = document.createElement("div");
  g.className="group";
  const h = document.createElement("h3");
  h.textContent=name;
  g.appendChild(h);

  grouped[name].sort((a,b)=>a.act-b.act).forEach(f=>{
    const a = document.createElement("a");
    a.className="file"+(f.gm?" gm-only":"");
    a.href="#";
    a.textContent = f.act ? `ACT ${f.act}` : f.file.replace(/%20/g," ");
    a.onclick = ()=>launch(f.file);
    g.appendChild(a);
  });

  grid.appendChild(g);
});

/* GM TOGGLE */
document.getElementById("gmToggle").onclick=()=>{
  document.querySelectorAll(".gm-only").forEach(e=>{
    e.style.display = e.style.display==="block"?"none":"block";
  });
};

/* INTERSTITIAL */
function launch(file){
  overlay.style.display="flex";
  overlayText.textContent="CLEARANCE CONFIRMATION REQUIRED";

  setTimeout(()=>{
    overlayText.textContent="ACCESS GRANTED";
  },1200);

  setTimeout(()=>{
    window.location.href=file;
  },2200);
}
</script>
</body>
</html>
